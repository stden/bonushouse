// jQuery Custom Radio Checkbox Plugin | by Denis Ciccale @tdecs | under the MIT license
(function(d){d.fn.customRadioCheckbox=function(){if(this[0]){var h=function(){var a=d(this);a.closest("label")[0]||a.prev().trigger("change.crc",[!0])},g=function(a){for(var c=a.type,f=a.length,e,b;f--;)b=a[f],e=d("<i>").addClass(c+(b.checked?" "+c+"-checked":"")).bind("click.crc",h),b.parentNode.insertBefore(e[0],b.nextSibling)};return this.each(function(){var a=d(this),c=a.find("input[type=radio]:not(.rc-hidden)").addClass("rc-hidden"),f=a.find("input[type=checkbox]:not(.rc-hidden):not(.disable-fancy)").addClass("rc-hidden"),e={},a=c.length,b;if(c.length){c.type="radio";for(g(c);a--;)b=c[a],b.checked&&((e[b.name]={}).checked=d(b.nextSibling));c.bind("change.crc",function(a,b){if(!b||!this.checked)e[this.name]||(e[this.name]={}),e[this.name].checked&&e[this.name].checked.removeClass(c.type+"-checked"),e[this.name].checked=d(this.nextSibling).addClass(c.type+"-checked");b&&!this.checked&&(this.checked=!0)})}f.length&&(f.type="checkbox",g(f),f.bind("change.crc",function(a,b){b&&(this.checked=!this.checked);d(this.nextSibling).toggleClass(f.type+"-checked")}))})}};d(function(){d("body").customRadioCheckbox()})})(jQuery);